{"version":3,"sources":["Components/Body/index.js","Components/Bottom/index.js","Components/TestCom/index.js","Components/All/index.js","Components/ScenicSpot/index.js","Components/Navbar/index.js","App.js","reportWebVitals.js","index.js"],"names":["wait","delay","Promise","resolve","setTimeout","Body","props","doIt","a","console","log","setState","loading","CallForLoad","num","CallApi","city","targetURL","axios","get","then","res","data","catch","err","skip","params","concat","state","arr","prevProps","prevState","this","title","className","map","item","Address","Description","ID","Component","Bottom","observe","IntersectionObserver","entries","intersectionRatio","call","threshold","document","querySelector","numbers","unobserve","TextCom","Callprac","count","querySelectorAll","length","total","match","All","path","ScenicSpot","exact","component","LinkList","to","Navbar","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","role","aria-haspopup","aria-labelledby","App","value","TestCom","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8813db48.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './App.css'\r\nimport axios from 'axios'\r\n// const numbers = [1, 2, 3, 4, 5];\r\n// const listItems = numbers.map((number) =>\r\n//   <li>{number}</li>\r\n// );\r\n\r\nconst wait=function(delay) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, delay);\r\n    });\r\n};\r\n\r\nclass Body extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      arr: [1, 2, 3, 4, 5],\r\n      data: [],\r\n      loading:false\r\n    }\r\n  }\r\n  doIt = async () => {\r\n    console.log(\"load\")\r\n    this.setState({\r\n      loading:true\r\n    })\r\n    await wait(2000)\r\n    this.CallForLoad(this.props.num)\r\n  }\r\n\r\n  CallApi = () => {\r\n    let city=(this.props.city)? this.props.city :''\r\n    let targetURL = `https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot/${city}?$top=30&$format=JSON`\r\n    axios.get(targetURL, {\r\n      'Access-Control-Allow-Origin':'*'\r\n    })\r\n      .then(res => {\r\n        console.log(res.data)\r\n        this.setState({\r\n          data:res.data\r\n        })\r\n        \r\n    })\r\n    .catch(function(err) {\r\n        console.log(err)\r\n    })\r\n    \r\n  }\r\n  CallForLoad = (skip) => {\r\n    let city=(this.props.city)? this.props.city :''\r\n    axios.get(`https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot/${city}`, {\r\n      params: {\r\n        \"$top\": \"30\",\r\n        \"$format\": \"JSON\",\r\n        \"$skip\":skip\r\n      }\r\n    }).then(res => {\r\n      console.log(res.data)\r\n      let concat=this.state.data.concat(res.data)\r\n      this.setState({\r\n        data: concat,\r\n        loading:false\r\n      })\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n  }\r\n  componentDidUpdate(prevProps,prevState) {\r\n    if (this.props.num !== prevProps.num) {\r\n      this.doIt()\r\n    }\r\n    if (this.props.city !== prevProps.city) {\r\n      this.CallApi()\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.CallApi()\r\n  }\r\n  render() {\r\n    let title;\r\n    if (this.state.loading) {\r\n      title =\r\n        <div className=\"Loading\">\r\n          loading\r\n        </div>\r\n    }\r\n    return (\r\n      <div>\r\n        {title}\r\n        <div className=\"contain\">\r\n          {this.state.data.map((item) => (\r\n            <div className=\"item\" key={item.ID}>\r\n              <div className=\"address\">\r\n                {item.Address}\r\n              </div>\r\n              <div className=\"text\">\r\n                {item.Description}\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Body","import React, { Component } from 'react';\r\n\r\n\r\nconst unobserve = () => {\r\n    let io = new IntersectionObserver(\r\n    (entries)=> {\r\n      if (entries[0].intersectionRatio === 1) {\r\n        console.log(entries)\r\n        \r\n      }\r\n    },\r\n    {threshold:[1]}\r\n  )\r\n  io.unobserve(document.querySelector('.bottom'))\r\n}\r\n\r\n\r\nclass Bottom extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      numbers:0\r\n    }\r\n  }\r\n  observe = () => {\r\n    let io = new IntersectionObserver(\r\n      (entries)=> {\r\n        if (entries[0].intersectionRatio === 1) {\r\n          console.log(entries)\r\n          this.props.call()\r\n        }\r\n      },\r\n      {threshold:[1]}\r\n    )\r\n    io.observe(document.querySelector('.bottom'))\r\n  }\r\n  componentDidMount() {\r\n    this.observe()\r\n  }\r\n  componentWillUnmount() {\r\n    unobserve()\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"bottom\">\r\n        我是頁尾\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Bottom","import { Component } from \"react\";\r\nimport Body from '../Body';\r\nimport Bottom from '../Bottom';\r\nclass TextCom extends Component{\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            total:0\r\n            \r\n        }\r\n    }\r\n    Callprac = () => {\r\n        console.log(\"callfromparent\")\r\n        let count = document.querySelectorAll('.item').length\r\n        console.log(count)\r\n        this.setState({\r\n            total:count\r\n        })\r\n\r\n    }\r\n  render() {\r\n    console.log('render 1 time')\r\n    return (\r\n      <div>\r\n        {this.props.match.params.city}\r\n        <div>\r\n          <Body num={this.state.total} city={this.props.match.params.city}></Body>\r\n          <Bottom call={this.Callprac}></Bottom>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TextCom","import { Component } from 'react';\r\n\r\nimport {\r\n  BrowserRouter,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\nimport Body from '../Body/index'\r\nimport Bottom from '../Bottom/index'\r\nclass All extends Component{\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            total:0\r\n            \r\n        }\r\n    }\r\n    Callprac = () => {\r\n        console.log(\"callfromparent\")\r\n        let count = document.querySelectorAll('.item').length\r\n        console.log(count)\r\n        this.setState({\r\n            total:count\r\n        })\r\n\r\n    }\r\n    componentDidMount() {\r\n\r\n    }\r\n  render() {\r\n      console.log(this.props.match.path)\r\n        return (\r\n          <div>\r\n            <Body num={this.state.total}></Body>\r\n            <Bottom call={this.Callprac}></Bottom>\r\n          </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default All;","import React, { Component } from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useParams,\r\n  useRouteMatch\r\n} from \"react-router-dom\";\r\nimport All from '../All'\r\n\r\nclass ScenicSpot extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      \r\n    }\r\n  }\r\n  componentDidMount() {\r\n\r\n  }\r\n  render() {\r\n    console.log(this.props.match)\r\n    return (\r\n      <div>\r\n        <h1>ScenicSpot</h1>\r\n          <Router>\r\n              <Switch>\r\n                <Route exact path=\"/scenicSpot\" component={All}></Route>       \r\n              </Switch>\r\n          </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ScenicSpot","\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nconst cityData = [\r\n        \"Taipei\",\r\n        \"NewTaipei\",\r\n        \"Taoyuan\",\r\n        \"Taichung\",\r\n        \"Tainan\",\r\n        \"Kaohsiung\",\r\n        \"Keelung\",\r\n        \"Hsinchu\",\r\n        \"HsinchuCounty\",\r\n        \"MiaoliCounty\",\r\n        \"ChanghuaCounty\",\r\n        \"NantouCounty\",\r\n        \"YunlinCounty\",\r\n        \"ChiayiCounty\",\r\n        \"Chiayi\",\r\n        \"PingtungCounty\",\r\n        \"YilanCounty\",\r\n        \"HualienCounty\",\r\n        \"TaitungCounty\",\r\n        \"KinmenCounty\",\r\n        \"PenghuCounty\",\r\n        \"LienchiangCounty\"\r\n]\r\nconst LinkList = cityData.map((city) => {\r\n  let url=\"/scenicSpot\"\r\n    return (\r\n      <Link className=\"dropdown-item\" to={`${url}/${city}`} key={city}>\r\n        {city}\r\n      </Link>\r\n    );\r\n  });\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className=\"navbar navbar-expand-sm navbar-light bg-light\">\r\n      {/* <Link className=\"navbar-brand\" to=\"/\">\r\n        <img alt=\"react-router-breadcrumb\" width=\"30\" height=\"30\" />\r\n      </Link> */}\r\n\r\n      <button\r\n        className=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-toggle=\"collapse\"\r\n        data-target=\"#navbarContent\"\r\n        aria-controls=\"navbarContent\"\r\n        aria-expanded=\"false\"\r\n        aria-label=\"Toggle navigation\"\r\n      >\r\n        <span className=\"navbar-toggler-icon\" />\r\n      </button>\r\n\r\n      <div className=\"collapse navbar-collapse\" id=\"navbarContent\">\r\n        <ul className=\"navbar-nav\">\r\n          <li className=\"nav-item\">\r\n            <Link className=\"nav-link\" to=\"/\">\r\n              Home\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link className=\"nav-link\" to=\"/scenicSpot\">\r\n              所有城市\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item dropdown\">\r\n            <div\r\n              className=\"nav-link dropdown-toggle\"\r\n              id=\"navbarDropdownMenuLink\"\r\n              role=\"button\"\r\n              data-toggle=\"dropdown\"\r\n              aria-haspopup=\"true\"\r\n              aria-expanded=\"false\"\r\n            >\r\n              選擇城市\r\n            </div>\r\n            <div\r\n              className=\"dropdown-menu\"\r\n              aria-labelledby=\"navbarDropdownMenuLink\"\r\n            >\r\n              {LinkList}\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport { Navbar };","\nimport { Component } from 'react';\nimport TestCom from './Components/TestCom'\nimport {\n  BrowserRouter,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport ScenicSpot from './Components/ScenicSpot'\nimport {Navbar} from './Components/Navbar'\nclass App extends Component{\n    constructor(props) {\n        super(props)\n        this.state = {\n            total:0\n            \n        }\n    }\n    Callprac = () => {\n        console.log(\"callfromparent\")\n        let count = document.querySelectorAll('.item').length\n        console.log(count)\n        this.setState({\n            total:count\n        })\n\n    }\n    componentDidMount() {\n\n    }\n    render() {\n        console.log(this.props.value)\n        return (\n            <div>\n                <BrowserRouter>\n                    <Navbar></Navbar>\n                    <Switch>\n                        <Route exact path=\"/scenicSpot\" component={ScenicSpot}></Route>\n                        <Route path=\"/scenicSpot/:city\" component={TestCom}></Route> \n                    </Switch>\n                </BrowserRouter>\n\n            </div>\n        );\n    }\n}\n\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}